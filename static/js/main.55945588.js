(()=>{"use strict";var e={1156:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(5861),u=n(885),l=n(5004),r=n(9385),o=n(1054),s=n(4046),i=n(8468),d=n(1046),c=n(1130),f=n(2152),p=n(1946),I=n(2629),m=function(e){return"web"===f.default.OS?e:null==e?void 0:e.deviceInfo},v=[{name:"Tenor",MIDINumber:128},{name:"Alto",MIDINumber:129},{name:"Soprano",MIDINumber:130},{name:"Piano",MIDINumber:0},{name:"Bajo",MIDINumber:32},{name:"Harmonica",MIDINumber:22},{name:"violin",MIDINumber:40},{name:"viola",MIDINumber:41},{name:"cello",MIDINumber:42},{name:"trumpet",MIDINumber:56},{name:"trombon",MIDINumber:57},{name:"tuba",MIDINumber:58},{name:"bajo synth",MIDINumber:63},{name:"clarinet",MIDINumber:71},{name:"Ocarina",MIDINumber:79},{name:"Pad Choir",MIDINumber:91}],h=d.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},header:{display:"flex",width:"100%",textAlign:"left",fontWeight:"bold",fontSize:18,marginTop:30,marginBottom:10},picker:{width:"100%",height:50},input:{width:"100%",borderWidth:1,padding:10,marginVertical:5}});const b=function(){var e=(0,l.useState)(""),t=(0,u.default)(e,2),n=t[0],d=t[1],b=(0,l.useState)(""),y=(0,u.default)(b,2),g=y[0],M=y[1],x=(0,l.useState)(""),D=(0,u.default)(x,2),j=D[0],S=D[1],N=(0,l.useState)(""),C=(0,u.default)(N,2),k=C[0],T=C[1],w=(0,l.useState)(null),O=(0,u.default)(w,2),P=O[0],V=O[1],$=(0,l.useState)(null),R=(0,u.default)($,2),B=R[0],E=R[1],A=(0,l.useRef)(null),_=(0,l.useRef)(!1),z=(0,l.useState)(new Map),L=(0,u.default)(z,2),U=L[0],W=L[1],q=(0,l.useState)(new Map),H=(0,u.default)(q,2),F=H[0],G=H[1],J=(0,l.useState)(""),K=(0,u.default)(J,2),Q=(K[0],K[1]),X=(0,l.useState)("-271543291"),Y=(0,u.default)(X,2),Z=Y[0],ee=Y[1],te=(0,l.useState)("-1318638608"),ne=(0,u.default)(te,2),ae=ne[0],ue=ne[1],le=function(e){return"input"===e?U.get(Z):F.get(ae)},re=(0,l.useCallback)((function(e,t){W(new Map(U.set(e,t)))}),[U]),oe=(0,l.useCallback)((function(e,t){G(new Map(F.set(e,t)))}),[F]),se=(0,l.useCallback)(function(){var e=(0,a.default)((function*(e,t){A.current&&A.current.inputs.forEach((function(e){e.onmidimessage=null})),yield(0,p.requestMIDIAccess)().then((function(n){if(console.log("MIDIAccess found with inputs: ",n.inputs," and outputs: ",n.outputs),A.current=n,0===n[e].size)return console.error("No MIDI devices found.",n.inputs,n);n[e].forEach(t)})),0===U.size&&Q("No MIDI devices found. Tap to search again.")}));return function(t,n){return e.apply(this,arguments)}}(),[U]),ie=function(e){var t=e.data[0],n=e.data[1],a=e.data[2];switch(le("output")&&P<127&&fe([t,n,a]),t){case 144:case 151:if(le("output")&&P>127)for(var u=0;u<5;u+=1)fe([144+u,n,a]);break;case 128:case 135:if(le("output")&&P>127)for(var l=0;l<5;l+=1)fe([128+l,n,a]);break;case 176:case 183:if(14===n);else if(15===n);else if(7===n&&le("output")&&P>127)for(var r=0;r<5;r+=1)fe([176+r,n,a]);break;default:console.error(`Command code not found: ${t} with param 1: ${n} and param 2: ${a}.`)}},de=(0,l.useCallback)((function(e){e.onmidimessage=ie,e.connected=!0,_.current=!0,re(m(e).id,e)}),[ie,re]),ce=function(){console.log("MIDI Device search started"),W(new Map),se("inputs",(function(e){if(console.log("MIDI Input found: ",e),e&&("web"!==f.default.OS&&e.deviceInfo||"web"===f.default.OS)){var t=m(e);Z===t.id&&(console.log("Selected input device found:",Z,t.id),de(e)),re(t.id,e)}else console.log("MIDI Device not valid: ",e)})),se("outputs",(function(e){if(console.log("MIDI Output found: ",e),e&&("web"!==f.default.OS&&e.deviceInfo||"web"===f.default.OS)){var t=m(e);oe(t.id,e)}else console.error("MIDI Device not valid: ",e)}))},fe=function(){var e=(0,a.default)((function*(e){if(ae)try{console.log("MIDI Message sent: ",e),yield le("output").send(e)}catch(t){console.error("Error sending MIDI message: ",t)}else alert("Please select a MIDI device")}));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,a.default)((function*(e,t,n){if(ae){var a=[176+e,t,n];console.log(`MIDI CC Message sent:\n    Channel: ${e}\n    Control: ${t}\n    Value: ${n}`,a),fe(a)}else alert("Please select a MIDI device")}));return function(t,n,a){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,a.default)((function*(e,t){if(ae){var n=[192+e,t,255];console.log(`MIDI Program Change sent:\n    Channel: ${e}\n    Value: ${t}`,n),fe(n)}else alert("Please select a MIDI device")}));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=(0,a.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e||null!==P){var t=null===e?P:e;if(t>127)for(var n=0;n<5;n+=1)pe(n,0,10),Ie(n,n+5*(t-128));else pe(0,0,0),Ie(0,t)}else alert("Please select an instrument")}));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,a.default)((function*(e,t,n){if(ae){if(null===e||void 0===e||null===n||void 0===n)return alert("Invalid MSB and Value for NRPN message"),void console.error("Invalid MSB and Value for NRPN message",e,t,n);yield pe(0,99,e),t&&(yield pe(0,98,t)),yield pe(0,6,n)}else alert("Please select a MIDI device")}));return function(t,n,a){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){ce()}),[]),(0,l.useEffect)((function(){null!==Z&&le("input")&&(console.log("Selected input device:",Z,le("input")),de(le("input")))}),[Z]),(0,l.useEffect)((function(){null!==ae&&le("output")&&console.log("Selected output device:",ae,le("output"))}),[ae]),(0,l.useEffect)((function(){null!==P&&(console.log("Selected instrument:",P),me())}),[P]),(0,I.jsxs)(r.default,{style:h.container,children:[(0,I.jsx)(o.default,{style:h.header,children:"Input Device"}),(0,I.jsxs)(c.default,{selectedValue:Z,style:h.picker,onValueChange:function(e){return ee(e)},children:[(0,I.jsx)(c.default.Item,{label:"No input device selected",value:null},-1),Array.from(U.values()).map((function(e,t){return(0,I.jsx)(c.default.Item,{label:e.name,value:e.id},t)}))]}),(0,I.jsx)(o.default,{style:h.header,children:"Output Device"}),(0,I.jsxs)(c.default,{selectedValue:ae,style:h.picker,onValueChange:function(e){return ue(e)},children:[(0,I.jsx)(c.default.Item,{label:"No output device selected",value:null},-1),Array.from(F.values()).map((function(e,t){return(0,I.jsx)(c.default.Item,{label:e.name,value:e.id},t)}))]}),(0,I.jsx)(o.default,{style:h.header,children:"Instrument Type"}),(0,I.jsxs)(c.default,{selectedValue:P,style:h.picker,onValueChange:function(e){return V(parseInt(e,10))},children:[(0,I.jsx)(c.default.Item,{label:"No instrument selected",value:null},-1),v.map((function(e,t){return(0,I.jsx)(c.default.Item,{label:`${e.name} (MIDI Number: ${e.MIDINumber})`,value:e.MIDINumber},t)}))]}),(0,I.jsx)(o.default,{style:h.header,children:"Custom Instrument"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"Value (0-127)",value:B,onChangeText:E,keyboardType:"numeric"}),(0,I.jsx)(i.default,{title:"Update Instrument",onPress:function(){return me(parseInt(B,10))}}),(0,I.jsx)(o.default,{style:h.header,children:"Reverb Amount"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"Value (0-127)",value:k,onChangeText:T,keyboardType:"numeric"}),(0,I.jsx)(i.default,{title:"Update Reverb",onPress:function(){return ve(55,88,parseInt(k,10))}}),(0,I.jsx)(o.default,{style:h.header,children:"NRPN Custom Values"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"MSB (0-127)",value:n,onChangeText:d,keyboardType:"numeric"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"LSB (0-127)",value:g,onChangeText:M,keyboardType:"numeric"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"Value (0-127)",value:j,onChangeText:S,keyboardType:"numeric"}),(0,I.jsx)(i.default,{title:"Send NRPN Message",onPress:function(){return ve(parseInt(n,10),parseInt(g,10),parseInt(j,10))}}),(0,I.jsx)(o.default,{style:h.header,children:"MIDI Message"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"MSB (0-127)",value:n,onChangeText:d,keyboardType:"numeric"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"LSB (0-127)",value:g,onChangeText:M,keyboardType:"numeric"}),(0,I.jsx)(s.default,{style:h.input,placeholder:"Value (0-127)",value:j,onChangeText:S,keyboardType:"numeric"}),(0,I.jsx)(i.default,{title:"Send NRPN Message",onPress:function(){return ve(parseInt(n,10),parseInt(g,10),parseInt(j,10))}})]})}}},t={};function n(a){var u=t[a];if(void 0!==u)return u.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.m=e,(()=>{var e=[];n.O=(t,a,u,l)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,u,l]=e[d],o=!0,s=0;s<a.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(o=!1,l<r&&(r=l));if(o){e.splice(d--,1);var i=u();void 0!==i&&(t=i)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,u,l]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var u,l,[r,o,s]=a,i=0;if(r.some((t=>0!==e[t]))){for(u in o)n.o(o,u)&&(n.m[u]=o[u]);if(s)var d=s(n)}for(t&&t(a);i<r.length;i++)l=r[i],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},a=self.webpackChunkweb=self.webpackChunkweb||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[93],(()=>n(6271)));a=n.O(a)})();
//# sourceMappingURL=main.55945588.js.map